<style>
  @media print {
    @page {
      size: portrait;
      margin-top: 20mm;
    }
    @page:first {
      margin-top: 10mm;
    }

    #print-header {
      display: block !important;
      page-break-after: avoid;
    }
    
    #article-content {
      position: relative !important;
      padding: 0 !important;
      margin: 0 !important;
      display: flex !important;
      align-items: flex-start !important;
      width: 100vw !important;
    }

    #article-detail-container {
      padding: 0 !important;
      margin: 0 !important;
      width: 100vw !important;
    }

    #article-detail-container .w-full {
      padding: 0 !important;
      margin: 0 !important;
      width: 80vw !important;
    }

    #support-bar-container, #header, #video-ytb-container, #comment-list-container, #readmore-container, #footer-container, #navbar-container, #header-navbar, #header-navbar-small, #categories {
      display: none;
    }
    
  }
</style>
<div id="print-header" class="border-b-2 border-black w-full py-4 mb-4" style="display: none; width: 100vw">
  <div class="flex justify-center items-center flex-col" style="font-family: 'MyCustomFont'">
    <div class="text-center">
      <div class="sm:text-xl text-lg font-bold">
        <a href="/">THE</a>
      </div>
      <div class="sm:text-4xl text-3xl">
        <a href="/">ELON MUSK</a>
      </div>
    </div>
  </div>
</div>

<div id="article-content" class="pt-[40px] relative  flex flex-row  justify-between items-center font-dancing xl:text-xl text-lg text-justify sm:w-[70%] w-[95%]" style="height:fit-content">

  <div id="article-detail-container" class="flex flex-col justify-center items-center gap-8 mb-[20px]">
    <div id="title-author" class="relative flex flex-col gap-6 justify-between items-center w-full ">
      <div class="flex sm:text-5xl  text-2xl font-serif text-center"><%=title%></div>

      <div class="flex flex-row gap-4 w-full bg-gray-100 p-2 rounded-lg">
        <img src="/images/articleDetailComponents/author.jpg" class="w-12 h-12 rounded-full border-2 border-black" alt="author-avatar" class="w-6 h-6">
        <div class="w-full flex flex-col justify-between">
          <div class="md:text-lg text-base">
            <%=author%>
          </div>
          <div id="date-published" class="text-sm">
          </div>
        </div>
      </div>
    </div>
    <!-- https://www.youtube.com/watch?v=uXbi3JqZiGA -->
    <% if (videoUrl) {%>
      <div id="video-ytb-container" class="w-full hidden sm:flex" style="position: relative; padding-bottom: 56.25%; height: 0">
        <iframe
          class="absolute top-0 left-0 w-full h-full"
          src="<%=videoUrl%>"
          
          frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
      </div>
    <%}%>

    <div id="main-content" class="relative w-full">
      <%-content%>
    </div>
  </div>

  <div id="support-bar-container" class="relative w-0 " >
    <div id="sticky-support-bar" class="sticky right-full transform translate-x-[60px] w-[40px] hidden lg:flex flex-col gap-4 justify-between items-center bg-gray-300 p-2 shadow-xl rounded-xl" style="top: 150px">
      <div id="flipping-mode-icon" class="relative group cursor-pointer hover:scale-105 transition-all duration-300">
        <span id="go-to-flip-mode"  class="text-gray-500 hover:text-blue-500 transition-all duration-300 ">
            <img src="/images/articleDetailComponents/flipping.svg" alt="Icon" class="w-6 h-6">
        </span>
        <div class="absolute left-full transform -translate-x-1/4 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2">
          flipping
        </div>
      </div>
      <% if (isSubscribed) {%>
        <div id="print-icon" class="ralative group">
          <span class="text-gray-500 hover:text-blue-500 transition-all duration-300 cursor-pointer">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6765_21043)">
                    <path d="M17.8619 16.9867C17.8619 16.073 17.8619 15.1734 17.8619 14.2526C18.0025 14.2315 18.1432 14.2245 18.2769 14.1964C18.5371 14.1402 18.6848 13.9715 18.6848 13.7044C18.6919 13.4233 18.5371 13.2405 18.2558 13.1913C18.1292 13.1702 18.0025 13.1702 17.8689 13.1702C13.9439 13.1702 10.019 13.1702 6.09399 13.1702C5.97441 13.1702 5.86186 13.1632 5.74229 13.1773C5.43982 13.2124 5.26397 13.4022 5.26397 13.6903C5.26397 13.9785 5.43279 14.1683 5.73525 14.2105C5.84076 14.2245 5.93924 14.2315 6.07288 14.2386C6.07288 15.1593 6.07288 16.066 6.07288 17.0078C5.41169 17.0921 4.78566 16.9797 4.21591 16.6072C3.43513 16.0941 3.02013 15.3561 3.00606 14.4283C2.98496 13.0016 2.98496 11.5677 3.00606 10.141C3.02716 8.74228 4.08226 7.65989 5.47499 7.55446C5.5805 7.54743 5.68601 7.54041 5.79152 7.54041C9.92751 7.54041 14.0635 7.54041 18.1995 7.54041C19.536 7.54041 20.5559 8.2784 20.8794 9.4873C20.9428 9.71924 20.9779 9.97227 20.9779 10.2112C20.985 11.5959 20.992 12.9734 20.9779 14.3581C20.9779 16.0379 19.536 17.2608 17.8619 16.9867ZM6.6356 10.8368C6.89586 10.8368 7.14909 10.8368 7.40934 10.8368C7.43045 10.8368 7.45858 10.8368 7.47968 10.8368C7.78918 10.8087 7.9791 10.654 8.0002 10.3307C8.01427 10.0285 7.81732 9.81061 7.47968 9.79656C6.91696 9.7825 6.36128 9.7825 5.79856 9.79656C5.48203 9.80358 5.29914 9.99335 5.27101 10.2956C5.24287 10.5767 5.48203 10.8157 5.79856 10.8297C6.07992 10.8508 6.36128 10.8368 6.6356 10.8368Z" fill="currentColor"></path>
                    <path d="M7.15625 14.2315C10.3849 14.2315 13.5713 14.2315 16.7717 14.2315C16.7788 14.351 16.7928 14.4494 16.7928 14.5548C16.7928 16.2979 16.7928 18.048 16.7928 19.7911C16.7928 20.5994 16.3919 21 15.583 21C13.1774 21 10.7788 21 8.37313 21C7.57126 21 7.15625 20.5853 7.15625 19.7911C7.15625 18.048 7.15625 16.2979 7.15625 14.5548C7.15625 14.4635 7.15625 14.3721 7.15625 14.2315ZM11.9675 15.4123C11.5384 15.4123 11.1023 15.4053 10.6732 15.4123C10.2934 15.4194 10.0543 15.6302 10.0543 15.9324C10.0543 16.2347 10.2934 16.4525 10.6732 16.4596C11.5525 16.4666 12.4247 16.4666 13.304 16.4596C13.7049 16.4596 13.9159 16.2628 13.9159 15.9395C13.9159 15.6162 13.7049 15.4194 13.311 15.4123C12.8538 15.4053 12.4106 15.4123 11.9675 15.4123ZM11.9816 18.7157C12.4106 18.7157 12.8468 18.7228 13.2758 18.7157C13.6908 18.7087 13.9159 18.5119 13.9089 18.1816C13.9019 17.8582 13.6908 17.6755 13.2899 17.6685C12.4247 17.6614 11.5595 17.6614 10.6944 17.6685C10.2934 17.6685 10.0402 17.8864 10.0543 18.2026C10.0613 18.5049 10.3004 18.7087 10.6873 18.7157C11.1164 18.7157 11.5455 18.7087 11.9816 18.7157Z" fill="currentColor"></path>
                    <path d="M6.07227 6.45801C6.11447 5.94493 6.09337 5.46699 6.19184 5.01717C6.43803 3.85747 7.5072 3.01405 8.71001 3.00702C10.8906 2.99999 13.0711 2.99296 15.2446 3.00702C16.6725 3.01405 17.812 4.14563 17.8472 5.56539C17.8542 5.85356 17.8472 6.14876 17.8472 6.46504C13.9292 6.45801 10.0394 6.45801 6.07227 6.45801Z" fill="currentColor"></path>
                </g>
                <defs>
                    <clipPath id="clip0_6765_21043">
                        <rect width="18" height="18" fill="white" transform="translate(3 3)"></rect>
                    </clipPath>
                </defs>
            </svg>
          </span>    
          <div class="absolute left-full transform -translate-x-1/4 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2">
            print
          </div>
        </div>  
      <%}%>
      <div id="comment-icon" class="relative group">
        <span class="text-gray-500 hover:text-blue-500 transition-all duration-300 cursor-pointer">
          <a href="#comment-list-container">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6765_21035)">
                    <path d="M6.80212 17.1413C6.19928 17.1413 5.61759 17.1413 5.04119 17.1413C3.7985 17.1413 3 16.3309 3 15.0698C3 11.737 3 8.40429 3 5.06619C3 3.81038 3.7985 3 5.04119 3C10.0173 3 14.988 3 19.9641 3C21.1962 3 22 3.81038 22 5.05546C22 8.41503 22 11.7746 22 15.1395C22 16.0894 21.45 16.8462 20.5828 17.0769C20.3871 17.1306 20.1809 17.1413 19.9747 17.1413C17.5263 17.1467 15.0779 17.1467 12.6348 17.1413C12.4815 17.1413 12.3599 17.1789 12.2435 17.2755C10.8422 18.4186 9.43557 19.5617 8.02895 20.6995C7.9602 20.7531 7.89674 20.8122 7.828 20.8605C7.61648 21.0107 7.39438 21.0483 7.15642 20.9249C6.92374 20.8014 6.8074 20.6029 6.8074 20.3399C6.8074 19.4436 6.8074 18.5474 6.8074 17.6512C6.80212 17.4902 6.80212 17.3292 6.80212 17.1413ZM12.5079 8.14132C11.7253 8.14132 10.9374 8.14132 10.1547 8.14132C9.25049 8.14132 8.34623 8.14132 7.44197 8.14132C7.10353 8.14132 6.83913 8.38283 6.80212 8.70483C6.7651 9.02683 6.97662 9.33274 7.2939 9.40787C7.3838 9.42934 7.47899 9.42397 7.56888 9.42397C10.8528 9.42397 14.1367 9.42397 17.4258 9.42397C17.484 9.42397 17.5475 9.42934 17.6056 9.42397C17.8753 9.39714 18.0657 9.2576 18.1609 9.00537C18.3248 8.57066 18.0075 8.14132 17.521 8.14132C15.8447 8.14132 14.179 8.14132 12.5079 8.14132ZM9.96966 12C10.7999 12 11.6301 12 12.4603 12C12.7195 12 12.9204 11.8927 13.0473 11.6673C13.2853 11.2379 12.9786 10.7174 12.4815 10.7174C10.7999 10.712 9.11829 10.7174 7.43668 10.7174C7.3838 10.7174 7.33092 10.7227 7.27804 10.7335C6.96605 10.814 6.7651 11.1038 6.79683 11.4258C6.82856 11.7478 7.09825 11.9946 7.43139 12C8.28277 12 9.12357 12 9.96966 12Z" fill="currentColor"></path>
                </g>
                <defs>
                    <clipPath id="clip0_6765_21035">
                        <rect width="19" height="18" fill="white" transform="translate(3 3)"></rect>
                    </clipPath>
                </defs>
            </svg>
          </a>
  
        </span>
        <div class="hidden group-hover:block absolute left-full transform -translate-x-1/4 bg-gray-800 text-white text-xs rounded py-1 px-2">
          comment
        </div>
      </div>

      <div id="get-link-icon" class="ralative group">
        <span class="text-gray-500 hover:text-blue-500 transition-all duration-300 cursor-pointer">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6765_21029)">
                    <path d="M22 11.6073C21.8826 11.1325 21.8239 10.6342 21.6419 10.1829C20.9375 8.45955 19.6519 7.41617 17.8086 7.08206C17.4799 7.02344 17.1335 7.01172 16.7989 7.00586C15.6131 6.99999 14.4273 7.00586 13.2416 7.00586C13.1711 7.00586 13.1007 7.00586 13.0126 7.00586C13.0126 7.63892 13.0126 8.26025 13.0126 8.90503C13.0948 8.90503 13.1711 8.90503 13.2474 8.90503C14.5624 8.9109 15.8773 8.89331 17.1922 8.91676C18.5894 8.94607 19.8456 10.095 20.0511 11.4783C20.2976 13.1547 19.3173 14.626 17.6736 15.0129C17.4094 15.0774 17.1335 15.0891 16.8635 15.0891C15.666 15.095 14.4684 15.095 13.2709 15.095C13.1946 15.095 13.1183 15.095 13.0244 15.095C13.0244 15.728 13.0244 16.3493 13.0244 16.9941C13.0831 16.9941 13.1476 16.9941 13.2063 16.9941C14.4508 16.9941 15.6953 17.0117 16.9339 16.9883C19.1001 16.9472 20.6616 15.939 21.5773 13.9812C21.7769 13.5533 21.8356 13.061 21.9648 12.5979C21.9824 12.5275 21.9941 12.4631 22.0059 12.3927C22 12.129 22 11.871 22 11.6073Z" fill="currentColor"></path>
                    <path d="M10.9883 16.9883C10.9883 16.3494 10.9883 15.728 10.9883 15.0891C10.9002 15.0891 10.8239 15.0891 10.7476 15.0891C9.43853 15.0891 8.12946 15.1008 6.82626 15.0774C5.4174 15.0481 4.16703 13.905 3.9557 12.5041C3.70915 10.8394 4.69536 9.36811 6.33903 8.98124C6.59732 8.92262 6.86735 8.90504 7.13152 8.90504C8.33492 8.89918 9.53833 8.89918 10.7417 8.89918C10.818 8.89918 10.8944 8.89918 10.9883 8.89918C10.9883 8.26026 10.9883 7.64478 10.9883 7C10.9178 7 10.8474 7 10.777 7C9.55594 7 8.32905 6.98241 7.10804 7.00586C4.93604 7.04103 3.3628 8.03751 2.42943 9.99531C1.63108 11.6776 1.98916 13.8992 3.2454 15.2825C4.28444 16.4256 5.5759 16.9883 7.11978 16.9883C8.33492 16.9883 9.55594 16.9883 10.7711 16.9883C10.8357 16.9883 10.9061 16.9883 10.9883 16.9883Z" fill="currentColor"></path>
                    <path d="M15.9824 11.0094C13.3173 11.0094 10.6757 11.0094 8.01647 11.0094C8.01647 11.6717 8.01647 12.3224 8.01647 12.9906C10.6757 12.9906 13.3173 12.9906 15.9824 12.9906C15.9824 12.3282 15.9824 11.6776 15.9824 11.0094Z" fill="currentColor"></path>
                </g>
                <defs>
                    <clipPath id="clip0_6765_21029">
                        <rect width="20" height="10" fill="white" transform="matrix(-1 0 0 1 22 7)"></rect>
                    </clipPath>
                </defs>
            </svg>
        </span>
        <div id="get-link-content" class="hidden group-hover:block absolute left-full transform -translate-x-1/4 bg-gray-800 text-white text-xs rounded py-1 px-2">
          link
        </div>
      </div>

    </div>
  </div>
</div>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    // date publish
    document.getElementById('date-published').innerHTML = `<%=published%>`.split(' GMT')[0]

    // set height for the support bar container
    document.getElementById('support-bar-container').style.height = `${document.getElementById('article-detail-container').offsetHeight}px`

    // href for flipping mode
    const currentUrl = window.location.href;
    const urlParts = currentUrl.split('?');
    urlParts.pop();
    const modifiedUrl = urlParts.join('/') + '/flipping' + (currentUrl.includes('?isSubscribed') ? currentUrl.substring(currentUrl.indexOf('?isSubscribed')) : '');
    document.getElementById('go-to-flip-mode').addEventListener('click', () => {
      window.location.href = modifiedUrl;
    })

    // print mode
    if (document.getElementById('print-icon')) {
      document.getElementById('print-icon').addEventListener('click', () => {
        window.print()
      })
    }

    // take current href for copy href mode
    let changeContent;
    document.getElementById('get-link-icon').addEventListener('click', (e) => {
      const tempInput = document.createElement('input')
      document.body.appendChild(tempInput)
      tempInput.value = window.location.href

      tempInput.select();
      document.execCommand('copy')


      document.body.removeChild(tempInput)
      if (changeContent) {
        clearTimeout(changeContent)
      }
      document.getElementById('get-link-content').textContent = 'copied'
      changeContent = setTimeout(() => {
        document.getElementById('get-link-content').textContent = 'link'
      }, 2000)
    })
  })
</script>